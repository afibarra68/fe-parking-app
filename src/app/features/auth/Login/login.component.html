<div class="login-wrapper">
  <div class="login-container">
    <p-card class="login-card">
      <ng-template pTemplate="header">
        <div class="login-header">
          <div class="login-image-container">
            <img src="/images/vehicle-vector.png" alt="Vehículo" class="login-vehicle-image">
          </div>
          <h1>Iniciar Sesión</h1>
          <p class="login-subtitle">Ingresa tus credenciales para acceder</p>
        </div>
      </ng-template>

      <form [formGroup]="form" (ngSubmit)="submit()" class="login-form">
        <p-message 
          *ngIf="error" 
          severity="error" 
          [text]="error"
          [closable]="true"
          (onClose)="error = null"
          styleClass="login-error">
        </p-message>

        <div class="form-field">
          <label for="username" class="field-label">
            Usuario
          </label>
          <span class="p-input-icon-left" style="width: 100%;">
            <input 
              id="username"
              type="text" 
              pInputText 
              formControlName="username"
              placeholder="Ingresa tu usuario"
              [class.ng-invalid]="form.get('username')?.invalid && form.get('username')?.touched"
              style="width: 100%;"
            />
          </span>
          <small 
            class="p-error" 
            *ngIf="form.get('username')?.invalid && form.get('username')?.touched">
            El usuario es requerido
          </small>
        </div>

        <div class="form-field">
          <label for="accesKey" class="field-label">
            Contraseña
          </label>
          <span class="p-input-icon-left" style="width: 100%;">
            <p-password
              id="accesKey"
              formControlName="accesKey"
              placeholder="Ingresa tu contraseña"
              [toggleMask]="true"
              [feedback]="false"
              [class.ng-invalid]="form.get('accesKey')?.invalid && form.get('accesKey')?.touched"
              styleClass="full-width"
              inputStyleClass="full-width">
            </p-password>
          </span>
          <small 
            class="p-error" 
            *ngIf="form.get('accesKey')?.invalid && form.get('accesKey')?.touched">
            La contraseña es requerida
          </small>
        </div>

        <div class="form-actions">
          <p-button 
            type="submit"
            label="Entrar" 
            icon="pi pi-sign-in"
            [disabled]="form.invalid || loading"
            [loading]="loading"
            styleClass="login-button">
          </p-button>
        </div>

        <!--div class="form-footer">
          <p>¿No tienes una cuenta? 
            <a routerLink="/auth/register" class="register-link">Crear usuario aquí</a>
          </p>
        </div-->
      </form>
    </p-card>
  </div>
</div>
